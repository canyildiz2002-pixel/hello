<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Hallo Sequence - Kontrastwechsel (30vw, Final)</title>
<style>
  /* KONTRAST UND KLARHEIT */
  body {
    margin: 0;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    background-color: black; 
    overflow: hidden;
  }

  /* WRAPPER FÜR SWIPE-ANIMATION (enthält alles) */
  .swipe-wrapper {
    position: relative; 
    display: flex; 
    justify-content: center;
    align-items: center;
    width: 100%; 
    height: 100%; 
  }

  /* CONTAINER FÜR DEN KREIS (zentriert hinter dem Text) */
  .circle-container { 
    position: absolute;
    /* Größe: 30vw */
    width: 30vw;
    height: 30vw;
    max-width: 200px; 
    max-height: 200px;
    display: flex; 
    justify-content: center;
    align-items: center;
    z-index: 0; 
  }

  .circle {
    position: absolute; 
    width: 100%;
    height: 100%;
    border-radius: 50%;
    
    /* KORRIGIERT: Nur Übergang für die Hintergrundfarbe, um das "Zucken" zu verhindern */
    transition: background-color 0.05s ease-in-out; 
    background-color: white; 
  }
  
  /* TEXT (MINIMALISMUS & INVERTIERUNG) */
  #greeting {
    position: relative; 
    font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
    font-size: 5vw; 
    font-weight: normal;
    text-transform: uppercase;
    letter-spacing: -0.05em;
    line-height: 1;
    white-space: nowrap;
    z-index: 1; 

    /* INVERTIERUNGS-EFFEKT */
    mix-blend-mode: difference;
    color: white; 

    /* ÜBERGANG FÜR DIE OPACITY */
    opacity: 1;
    transition: opacity 0.08s ease-in-out;
  }

  /* DEFINIERTE BEWEGUNG - ANGEWENDET AUF DEN WRAPPER */
  @keyframes swipeUp {
    0% { transform: translateY(0); opacity: 1; }
    10% { transform: translateY(0); opacity: 1; } 
    100% { transform: translateY(-150vh); opacity: 0; }
  }

  .swipe-wrapper.swipe {
    animation: swipeUp 1.5s ease-in-out forwards;
  }
</style>
</head>
<body>

<div class="swipe-wrapper" id="swipeWrapper">
  <div class="circle-container">
    <div class="circle" id="circleElement"></div> 
  </div>
  <div id="greeting">Hallo</div> 
</div>

<script>
// --- JS-Funktionalität ---

const WHITE = 'white';
const BLACK = 'black';

const GREETINGS = [
  "Hallo", "Hello", "Bonjour", "Hola", "你好 (Nǐ hǎo)",
  "مرحبا (Marhaban)", "Привет (Privet)", "Olá", "नमस्ते (Namaste)",
  "こんにちは (Konnichiwa)", "Merhaba", "안녕하세요 (Annyeonghaseyo)",
  "Hallo"
];

let currentIndex = 0;
const greetingElement = document.getElementById('greeting');
const circleElement = document.getElementById('circleElement'); 
const swipeWrapper = document.getElementById('swipeWrapper');

const DURATION_TOTAL_MS = 2000;
const DURATION_FINAL_WORD_MS = 200;
const COUNT_WORDS = GREETINGS.length - 1;

const firstRel = 0.6;
const secondRel = 0.5;
const lastRel = 0.1;

let relativeTimes = [];
relativeTimes.push(firstRel, secondRel);

for (let i = 2; i < COUNT_WORDS; i++) {
  const ratio = (i - 2) / (COUNT_WORDS - 3);
  relativeTimes.push(secondRel * Math.pow(lastRel / secondRel, ratio));
}

const sumRel = relativeTimes.reduce((a, b) => a + b, 0);
const durationsMs = relativeTimes.map(t => (t / sumRel) * DURATION_TOTAL_MS);
durationsMs.push(DURATION_FINAL_WORD_MS);

function showNextGreeting() {
  // 1. FARBWECHSEL DES KREISES
  const currentColor = circleElement.style.backgroundColor;
  const isWhite = currentColor === WHITE || currentColor === ''; 
  circleElement.style.backgroundColor = isWhite ? BLACK : WHITE;
  
  // 2. TEXT AUSBLENDEN
  greetingElement.style.opacity = 0;

  setTimeout(() => {
    // 3. WORTWECHSEL
    currentIndex = (currentIndex + 1) % GREETINGS.length;
    greetingElement.textContent = GREETINGS[currentIndex]; 
    
    // 4. TEXT EINBLENDEN
    greetingElement.style.opacity = 1;

    const currentDuration = durationsMs[currentIndex];

    // Wenn das LETZTE WORT erreicht ist, wende die swipe-Animation auf den Wrapper an
    if (currentIndex === GREETINGS.length - 1) {
      setTimeout(() => {
        swipeWrapper.classList.add('swipe'); 
      }, currentDuration);
    } else {
      setTimeout(showNextGreeting, currentDuration);
    }
  }, 0); 
}

// INITIIERUNG: Starte mit weißem Kreis
circleElement.style.backgroundColor = WHITE;
setTimeout(showNextGreeting, durationsMs[0]); 
</script>

</body>
</html>
